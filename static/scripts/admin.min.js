function remove_card(e){const a=e.target;let t="",n=a.dataset.name,l="",r="";if(window.confirm(`Hapus ${n}?`)){"BUTTON"==a.tagName?(l=a.parentElement,t=a.parentElement.parentElement.parentElement.parentElement.querySelector("input[type='submit']")):"I"==a.tagName&&(l=a.parentElement.parentElement,t=a.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector("input[type='submit']")),r=l.parentElement;const e=l.previousElementSibling;n.split(" ")[0].split("_").includes("anggota")?(l.remove(),e.remove(),t=form.querySelector("input[type='submit']")):r.remove();try{const e=r.querySelectorAll(`[data-name='${n}']`);console.log(n),0==e.length?form.changed2[1]=!1:form.changed2[1]=!0;let a=e.length>0,l=form.changed.includes(!0)||form.changed2.includes(!0);t.disabled=!a&&!l}catch(e){console.error(e)}}}function add_card(e){const a=e.target;let t="",n=a.dataset.name,l="";"BUTTON"==a.tagName?(l=a.parentElement.parentElement,t=a.parentElement.parentElement.parentElement.parentElement.querySelector("input[type='submit']")):"I"==a.tagName&&(l=a.parentElement.parentElement.parentElement,t=a.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector("input[type='submit']"));try{"daftar_penghuni"==n?l.insertAdjacentHTML("afterend",'\n         <div class="row mx-0 my-4 p-3 rounded shadow bg-card">\n            <div class="col-12 col-md-11">\n               <div class="row px-2 py-3 rounded">\n                  <div class="col-6 d-flex flex-column justify-content-between">\n                     <div class="mb-3">\n                        <label class="form-label" for=""><h6>Nama</h6></label>\n                        <input required class="form-control" type="text" name="nama[]" id="" data-before="">\n                     </div>\n                     <div class="mb-1 mb-sm-2 mb-md-3 d-flex">\n                        <div>\n                           <label class="form-label" for=""><h6>Tahun Masuk</h6></label>\n                           <input required class="form-control" type="text" name="tahun_masuk[]" id="">\n                        </div>\n                        <div class="ms-4">\n                           <label class="form-label" for=""><h6>Status</h6></label>\n                           <input required class="form-control" type="text" name="status[]" id="">\n                        </div>\n                     </div>\n                     <div>\n                        <label class="form-label" for=""><h6>Asal Daerah</h6></label>\n                        <input required class="form-control" type="text" name="asal_daerah[]" id="" data-before="">\n                     </div>\n                  </div>\n                  <div class="col-6">\n                     <div class="mb-3">\n                        <label class="form-label" for=""><h6>Jurusan</h6></label>\n                        <input required class="form-control" type="text" name="jurusan[]" id="" data-before="">\n                     </div>\n                     <div class="mb-3">\n                        <label class="form-label" for=""><h6>Angkatan</h6></label>\n                        <input required class="form-control" type="text" name="angkatan[]" id="" data-before="">\n                     </div>\n                     <div>\n                        <label class="form-label" for=""><h6>Kampus</h6></label>\n                        <input required class="form-control" type="text" name="kampus[]" id="" data-before="">\n                     </div>\n                  </div>\n               </div>\n            </div>\n            <div class="mb-3 mb-md-0 col-12 col-md-1 d-flex flex-md-column align-items-center justify-content-evenly">\n               <button type="button" class="btn btn-secondary shadow-sm" data-name="daftar_penghuni" onclick="add_card(event)">\n                  <i class="fa-solid fa-plus" data-name="daftar_penghuni"></i>\n               </button>\n               <button type="button" class="btn btn-danger shadow-sm" data-name="data penghuni baru" onclick="remove_card(event)">\n                  <i class="fa-solid fa-trash" data-name="data penghuni baru"></i>\n               </button>\n            </div>\n         </div>\n         '):l.insertAdjacentHTML("afterend",`\n         <div class="row mx-0 my-4 p-3 rounded shadow bg-card flex-column flex-md-row">\n            <div class="col-12 col-md-11 col-lg-10">\n               <div class="row px-2 py-3 gap-3 gap-md-0">\n                  <div class="col-12 col-md-6 d-flex flex-column justify-content-between gap-2 gap-md-0">\n                     <div>\n                        <label class="form-label" for="nama_butir_${n}_{{loop.index}}"><h6>Nama butir ${n}</h6></label>\n                        <input required class="form-control" type="text" name="nama[]" id="nama_butir_${n}_{{loop.index}}" value="" data-before="">\n                     </div>\n                     <div>\n                        <label class="form-label" for="keterangan_butir_${n}_{{loop.index}}"><h6>Keterangan</h6></label>\n                        <textarea required class="form-control" name="keterangan[]" id="keterangan_butir_${n}_{{loop.index}}" cols="10" rows="5" data-before=""></textarea>\n                     </div>\n                  </div>\n                  <div class="col-12 col-md-6 d-flex flex-column justify-content-between">\n                     <div class="col-6 mb-3 w-100 d-flex justify-content-center">\n                        <img src="{{el['gambar']}}" alt="gambar butir ${n}" srcset="" class="w-50 output-image d-none">\n                     </div>\n                     <div>\n                        <label class="form-label" for="gambar_butir_${n}_{{loop.index}}"><h6>Pilih gambar</h6></label>\n                        <input required class="form-control" type="file" accept="image/png, image/jpeg" name="gambar[]" id="gambar_butir_${n}_{{loop.index}}" value="" data-before="" onchange="loadFile(event)">\n                        <input type="hidden"  name="gambar_lama[]" value="">\n                     </div>\n                  </div>\n               </div>\n            </div>\n            <div class="col-md-1 col-lg-2 col-button-edit-admin flex-row flex-md-column gap-5 gap-md-0 p-4 p-md-0">\n               <button type="button" class="btn btn-secondary shadow-sm" onclick="add_card(event)" data-name="${n}"><i class="fa-solid fa-plus" data-name="${n}"></i></button>\n               <button type="button" class="btn btn-danger shadow-sm" onclick="remove_card(event)" data-name="${n} baru"><i class="fa-solid fa-trash" data-name="${n} baru"></i></button>\n            </div>\n         </div>\n         `),t.disabled=!1}catch(e){alert(e)}}function add_list(e){const a=e.target;let t="",n=a.dataset.name,l="";"BUTTON"==a.tagName?(l=a.parentElement.parentElement,t=a.parentElement.parentElement.parentElement.parentElement.querySelector("input[type='submit']")):"I"==a.tagName&&(l=a.parentElement.parentElement.parentElement,t=a.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector("input[type='submit']"));try{n.split(" ")[0].split("_").includes("anggota")?("BUTTON"==a.tagName?(l=a.parentElement,t=a.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector("input[type='submit']")):"I"==a.tagName&&(l=a.parentElement.parentElement,t=a.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector("input[type='submit']")),console.log(a.tagName),console.log(l),console.log(t),l.insertAdjacentHTML("afterend",`\n         <div class="col-8 col-sm-9 col-md-10 py-2 px-2 px-sm-3">\n            <input type="text" class="form-control" name="${n}[]" data-before="" required>    \n         </div>\n         <div class="col-4 col-sm-3 col-md-2 px-1 px-sm-2 col-button-edit-admin-kepengurusan gap-1 gap-lg-0">\n            <button type="button" class="btn btn-secondary shadow-sm add-list-btn" onclick="add_list(event)" data-name="${n}" data-type="penghuni">\n               <i class="fa-solid fa-plus" data-name="${n}" data-type="penghuni"></i>\n            </button>\n            <button type="button" class="btn btn-danger shadow-sm remove-card-btn" onclick="remove_card(event)" data-name="${n} baru" data-type="penghuni">\n               <i class="fa-solid fa-trash" data-name="${n} baru" data-type="penghuni"></i>\n            </button>\n         </div>\n         `)):l.insertAdjacentHTML("afterend",`\n         <div class="row mx-0 my-3 p-3 rounded shadow bg-artikel">\n            <div class="col-11 col-lg-10 my-2 pe-3 ps-0">\n               <div class="row mx-0 p-0">\n                  <div class="col-12 p-0">\n                     <label class="form-label" for=""><h6>Butir ${n.replaceAll("_"," ").replace("butir ","")}</h6></label>\n                     <input type="text" class="form-control" name="${n}[]" id="" data-before=""  required>\n                  </div>\n               </div>\n            </div>\n            <div class="col-1 col-lg-2 col-button-edit-admin p-0 m-0">\n               <button type="button" class="btn btn-secondary shadow-sm" onclick="add_list(event)" data-name="${n}">\n                  <i class="fa-solid fa-plus" data-name="${n}"></i>\n               </button>\n               <button type="button" class="btn btn-danger shadow-sm" onclick="remove_card(event)" data-name="${n} baru">\n                  <i class="fa-solid fa-trash" data-name="${n} baru"></i>\n               </button>\n            </div>\n         </div>\n         `),t.disabled=!1}catch(e){console.log(e)}}function confirmLogout(e){confirm("Logout sekarang?")||e.preventDefault()}function confirmDelete(e,a){confirm(`Hapus ${a} ini?`)||e.preventDefault()}function loadFile(e){const a=e.target.parentElement.parentElement.parentElement.querySelector("img.output-image");a.classList.remove("d-none"),a.src=URL.createObjectURL(e.target.files[0])}function loadFileBuletin(e){const a=e.target.parentElement.parentElement.querySelector("img.output-image");a.classList.remove("d-none"),a.src=URL.createObjectURL(e.target.files[0])}function remove_par(e){if(window.confirm("Hapus paragraf?")){col1="",console.log(e.target),"BUTTON"==e.target.tagName?col1=e.target.parentElement.parentElement:"I"==e.target.tagName&&(col1=e.target.parentElement.parentElement.parentElement),console.log(col1);try{col1.remove(),form.changed2[0]=!0,button.disabled=!1}catch(e){alert(e)}}}function add_par(e,a=!1){col1="",console.log(e.target),"BUTTON"==e.target.tagName?col1=e.target.parentElement.parentElement:"I"==e.target.tagName&&(col1=e.target.parentElement.parentElement.parentElement),a&&(col1=document.getElementById("control_tambah_paragraf"));try{col1.insertAdjacentHTML("afterend",'\n            <div class="row mx-1 my-2 m-md-3 px-1 pt-1 pb-2 px-md-3 py-md-3 flex-shrink-1 shadow rounded bg-artikel">\n               <input type="hidden" name="is_gambar[]" value="">\n               <div class="col-12 col-md-10">\n                  <label for="" class="form-label"><h6>Teks</h6></label>\n                  <textarea name="par_text[]" required class="form-control" name="" id="" rows="6"></textarea>\n               </div>\n               <div class="col-12 col-md-2 d-flex flex-md-column align-items-center justify-content-evenly mt-3 mt-md-0">\n                  <button type="button" class="btn btn-danger shadow" title="Hapus Paragraf" onclick="remove_par(event)">\n                     <i class="fa-solid fa-trash" title="Hapus Paragraf"></i>\n                  </button>\n                  <button type="button" class="btn btn-secondary shadow" title="Tambah Paragraf (Teks)" onclick="add_par(event)">\n                     <i class="fa-solid fa-align-right" title="Tambah Paragraf (Teks)"></i>\n                  </button>\n                  <button type="button" class="btn btn-secondary shadow" title="Tambah Paragraf (Teks & Gambar)" onclick="add_par_gam(event)">\n                     <i class="fa-solid fa-align-right mx-1" title="Tambah Paragraf (Teks & Gambar)"></i>\n                     <i class="fa-solid fa-image mx-1" title="Tambah Paragraf (Teks & Gambar)"></i>\n                  </button>\n               </div>\n            </div>\n            '),a||(form.changed2[1]=!0,button.disabled=!1)}catch(e){alert(e)}}function add_par_gam(e,a=!1){col1="",console.log(e.target),"BUTTON"==e.target.tagName?col1=e.target.parentElement.parentElement:"I"==e.target.tagName&&(col1=e.target.parentElement.parentElement.parentElement),a&&(col1=document.getElementById("control_tambah_paragraf"));try{col1.insertAdjacentHTML("afterend",'\n            <div class="row mx-1 my-2 m-md-3 px-1 pt-1 pb-2 px-md-3 py-md-3 flex-shrink-1 shadow rounded bg-artikel">\n               <input type="hidden" name="is_gambar[]" value="1">\n               <div class="col-12 col-md-5">\n                  <label class="form-label" for=""><h6>Teks</h6></label>\n                  <textarea required class="form-control" name="par_text[]" id="" rows="6"></textarea>\n               </div>\n               <div class="col-12 col-md-5 d-flex flex-column align-items-center mt-3 mt-md-0">\n                  <img src=\'\' width="200" height="170" alt="" class="output-image d-none">\n                  <div class="mt-2 mt-md-3">\n                     <label class="form-label"><h6>Pilih gambar</h6></label>\n                     <input required class="form-control" type="file" accept="image/png, image/jpeg" onchange="loadFileBuletin(event)" name="par_gambar[]">\n                     <input type="hidden" name="par_gambar_lama[]" value="">\n                  </div>\n               </div>\n               <div class="col-12 col-md-2 d-flex flex-md-column align-items-center justify-content-evenly mt-3 mt-md-0">\n                  <button type="button" class="btn btn-danger shadow" title="Hapus Paragraf" onclick="remove_par(event)">\n                     <i class="fa-solid fa-trash" title="Hapus Paragraf"></i>\n                  </button>\n                  <button type="button" class="btn btn-secondary shadow" title="Tambah Paragraf (Teks)" onclick="add_par(event)">\n                     <i class="fa-solid fa-align-right" title="Tambah Paragraf (Teks)"></i>\n                  </button>\n                  <button type="button" class="btn btn-secondary shadow" title="Tambah Paragraf (Teks & Gambar)" onclick="add_par_gam(event)">\n                     <i class="fa-solid fa-align-right mx-1" title="Tambah Paragraf (Teks & Gambar)"></i>\n                     <i class="fa-solid fa-image mx-1" title="Tambah Paragraf (Teks & Gambar)"></i>\n                  </button>\n               </div>\n            </div>\n            '),a||(form.changed2[1]=!0,button.disabled=!1)}catch(e){alert(e)}}window.addEventListener("load",()=>{const e=document.getElementById("spinner_container");e.classList.add("spinner--hidden"),e.addEventListener("transitionend",()=>{if(document.body.hasChildNodes(e))try{document.body.removeChild(e)}catch(e){}})});const url=document.URL.split("/");let page=url[url.length-1];const edit_konten_navbar_links=document.querySelectorAll("#edit_konten_navbar a"),tentang_link=document.querySelectorAll("[data-value='tentang']");edit_konten_navbar_links.forEach(e=>{""==page&&(page=url[url.length-2]),"admin"==page?tentang_link.forEach(e=>e.classList.add("active")):e.dataset.value==page?e.classList.add("active"):e.classList.remove("active")});const buletin_card=document.querySelectorAll(".buletin-card ");for(const e of buletin_card)e.addEventListener("mouseenter",e=>{e.target.childNodes[1].childNodes[1].classList.add("hovered")}),e.addEventListener("mouseleave",e=>{e.target.childNodes[1].childNodes[1].classList.remove("hovered")});let form=document.querySelector(".content_form");form.changed=[!1],form.changed2=[!1,!1],console.log(form.changed),console.log(form.changed2);let button=form.querySelector("input[type='submit']");const button_container=button.parentElement,alert=button_container.parentElement.previousElementSibling;form.addEventListener("input",()=>{const e=form.querySelectorAll(".form-control");for(let a=0;a<e.length;a++)e[a].dataset.before!==e[a].value?form.changed[a]=!0:form.changed[a]=!1;form.changed.includes(!0)||form.changed2.includes(!0)?button.disabled=!1:button.disabled=!0}),button_container.addEventListener("click",e=>{button.disabled&&alert.classList.contains("d-none")&&(alert.classList.replace("d-none","d-flex"),setTimeout(()=>{alert.classList.replace("d-flex","d-none")},"3000"))});const remove_card_btn=form.querySelectorAll(".remove-card-btn");remove_card_btn.length>0&&remove_card_btn.forEach(e=>{e.addEventListener("click",e=>{const a=e.target;let t=a.dataset.name,n="";if(window.confirm(`Hapus ${t}?`)){"BUTTON"==a.tagName?n=a.parentElement:"I"==a.tagName&&(n=a.parentElement.parentElement);const e=n.previousElementSibling;try{n.remove(),e.remove(),form.changed2[0]=!0,button.disabled=!1}catch(e){alert(e)}console.log(form.changed,form.changed2)}})});const add_card_btn=form.querySelectorAll(".add-card-btn");add_card_btn.length>0&&add_card_btn.forEach(e=>{e.addEventListener("click",e=>{const a=e.target;let t=a.dataset.name,n="";"BUTTON"==a.tagName?n=a.parentElement:"I"==a.tagName&&(n=a.parentElement.parentElement);try{"daftar_penghuni"==t?n.insertAdjacentHTML("afterend",'\n               <div class="col-12 col-md-11">\n                  <div class="row border-black border px-2 py-3 rounded">\n                     <div class="col-6 d-flex flex-column justify-content-between">\n                        <div class="mb-3">\n                           <label class="form-label" for=""><h6>Nama</h6></label>\n                           <input required class="form-control" type="text" name="nama[]" id="" data-before="">\n                        </div>\n                        <div class="mb-3">\n                           <label class="form-label" for=""><h6>Tahun Masuk</h6></label>\n                           <input required class="form-control" type="text" name="tahun_masuk[]" id="" data-before="">\n                        </div>\n                        <div>\n                           <label class="form-label" for=""><h6>Asal Daerah</h6></label>\n                           <input required class="form-control" type="text" name="asal_daerah[]" id="" data-before="">\n                        </div>\n                     </div>\n                     <div class="col-6">\n                        <div class="mb-3">\n                           <label class="form-label" for=""><h6>Jurusan</h6></label>\n                           <input required class="form-control" type="text" name="jurusan[]" id="" data-before="">\n                        </div>\n                        <div class="mb-3">\n                           <label class="form-label" for=""><h6>Angkatan</h6></label>\n                           <input required class="form-control" type="text" name="angkatan[]" id="" data-before="">\n                        </div>\n                        <div>\n                           <label class="form-label" for=""><h6>Kampus</h6></label>\n                           <input required class="form-control" type="text" name="kampus[]" id="" data-before="">\n                        </div>\n                     </div>\n                  </div>\n               </div>\n               <div class="mb-3 mb-md-0 col-12 col-md-1 d-flex flex-md-column align-items-center justify-content-evenly">\n                  <button type="button" class="btn btn-outline-dark remove-card-btn" data-name="data penghuni baru" onclick="remove_card(event)">\n                     <i class="fa-solid fa-trash" data-name="data penghuni baru"></i>\n                  </button>\n                  <button type="button" class="btn btn-outline-dark add-card-btn" data-name="daftar_penghuni" onclick="add_card(event)">\n                     <i class="fa-solid fa-plus" data-name="daftar_penghuni"></i>\n                  </button>\n               </div>\n               '):n.insertAdjacentHTML("afterend",`\n               <div class="col-11 col-lg-10">\n                  <div class="row border-black border px-2 py-3 rounded">\n                     <div class="col-6 d-flex flex-column justify-content-between">\n                        <div>\n                           <label class="form-label" for="nama_butir_${t}_{{loop.index}}"><h6>Nama butir ${t}</h6></label>\n                           <input required class="form-control" type="text" name="nama[]" id="nama_butir_${t}_{{loop.index}}" value="" data-before="">\n                        </div>\n                        <div>\n                           <label class="form-label" for="keterangan_butir_${t}_{{loop.index}}"><h6>Keterangan</h6></label>\n                           <textarea required class="form-control" name="keterangan[]" id="keterangan_butir_${t}_{{loop.index}}" cols="10" rows="5" data-before=""></textarea>\n                        </div>\n                     </div>\n                     <div class="col-6 d-flex flex-column justify-content-between">\n                        <div class="col-6 mb-3 w-100 d-flex justify-content-center">\n                           <img src="{{el['gambar']}}" alt="gambar butir ${t}" srcset="" class="w-50 output-image d-none">\n                        </div>\n                        <div>\n                           <label class="form-label" for="gambar_butir_${t}_{{loop.index}}"><h6>Pilih gambar</h6></label>\n                           <input required class="form-control" type="file" accept="image/png, image/jpeg" name="gambar[]" id="gambar_butir_${t}_{{loop.index}}" value="" data-before="" onchange="loadFile(event)">\n                           <input type="hidden"  name="gambar_lama[]" value="">\n                        </div>\n                     </div>\n                  </div>\n               </div>\n               <div class="col-1 col-lg-2 col-button-edit-admin">\n                  <button type="button" class="btn btn-outline-dark remove-card-btn" data-name="${t} baru" onclick="remove_card(event)"><i class="fa-solid fa-trash" data-name="${t} baru"></i></button>\n                  <button type="button" class="btn btn-outline-dark add-card-btn" data-name="${t}" onclick="add_card(event)"><i class="fa-solid fa-plus" data-name="${t}"></i></button>\n               </div>\n               `),form.changed2[1]=!0,button.disabled=!1}catch(e){alert(e)}})});const add_list_btn=form.querySelectorAll(".add-list-btn");add_list_btn.length>0&&add_list_btn.forEach(e=>{e.addEventListener("click",e=>{const a=e.target;let t=a.dataset.name,n="";"BUTTON"==a.tagName?n=a.parentElement.parentElement:"I"==a.tagName&&(n=a.parentElement.parentElement.parentElement);try{t.split(" ")[0].split("_").includes("anggota")?n.insertAdjacentHTML("afterend",`\n               <div class="col-9 col-md-10 py-2 px-3">\n                  <input type="text" class="form-control" name="${t}[]" data-before="" required>    \n               </div>\n               <div class="col-3 col-md-2 col-button-edit-admin-kepengurusan">\n                  <button type="button" class="btn btn-outline-dark remove-card-btn" onclick="remove_card(event)" data-name="${t} baru" data-type="penghuni">\n                     <i class="fa-solid fa-trash" data-name="${t} baru" data-type="penghuni"></i>\n                  </button>\n                  <button type="button" class="btn btn-outline-dark add-list-btn" onclick="add_list(event)" data-name="${t}" data-type="penghuni">\n                     <i class="fa-solid fa-plus" data-name="${t}" data-type="penghuni"></i>\n                  </button>\n               </div>\n               `):n.insertAdjacentHTML("afterend",`\n               <div class="row mx-0 my-3 p-3 rounded shadow bg-artikel">\n                  <div class="col-11 col-lg-10 my-2 pe-3 ps-0">\n                     <div class="row mx-0 p-0">\n                        <div class="col-12 p-0">\n                           <label class="form-label" for=""><h6>Butir ${t}</h6></label>\n                           <input type="text" class="form-control" name="${t}[]" id="" data-before=""  required>\n                        </div>\n                     </div>\n                  </div>\n                  <div class="col-1 col-lg-2 col-button-edit-admin p-0 m-0">\n                     <button type="button" class="btn btn-secondary shadow-sm" onclick="add_list(event)" data-name="${t}">\n                        <i class="fa-solid fa-plus" data-name="${t}"></i>\n                     </button>\n                     <button type="button" class="btn btn-danger shadow-sm" onclick="remove_card(event)" data-name="${t} baru">\n                        <i class="fa-solid fa-trash" data-name="${t} baru"></i>\n                     </button>\n                  </div>\n               </div>\n               `),form.changed2[1]=!0,button.disabled=!1}catch(e){alert(e)}})});